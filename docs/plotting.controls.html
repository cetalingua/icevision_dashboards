---

title: plotting.controls


keywords: fastai
sidebar: home_sidebar

summary: "Supplies control elements for dashboards"
description: "Supplies control elements for dashboards"
nb_path: "nbs/plotting.controls.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/plotting.controls.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre><span class="ansi-bold">INFO    </span> - <span class="ansi-bold">The mmdet config folder already exists. No need to downloaded it. Path : /home/frederik/.icevision/mmdetection_configs/mmdetection_configs-2.16.0/configs</span> | <span class="ansi-cyan-fg">icevision.models.mmdet.download_configs</span>:<span class="ansi-cyan-fg">download_mmdet_configs</span>:<span class="ansi-cyan-fg">17</span>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Filter" class="doc_header"><code>class</code> <code>Filter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L24" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Filter</code>(<strong><code>data</code></strong>, <strong><code>width</code></strong>=<em><code>500</code></em>, <strong><code>height</code></strong>=<em><code>500</code></em>)</p>
</blockquote>
<p>Abstract base class for filters.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Abstract baseclass for a filter. A filter requires three methods to be implemented</p>
<ol>
<li><code>build_gui</code>: Defines the gui elements of the filter (slider, checkboxes etc.)</li>
<li><code>get_selection</code>: Returns a binary mask indicating which elements of the data are selected and which not</li>
<li><code>show</code>: Returns the gui of the filter</li>
<li><code>register_callback</code>: Handels the registration of callbacks. This function should contain the following line <code>callback = self.maks_callback(callback)</code> to ensure that the callback receives the current selection of the filter instead of an <code>event</code> or <code>attr</code>, <code>old</code> and <code>new</code></li>
</ol>
<p>All callbacks registered to a filter will receive the current selection of the fitler as argument. To ensure this behaviour inside the <code>register_callback</code> function the callback needs to be masked with the <code>mask_callback</code> method. If a different behaviour is need it should be sufficient to change the <code>mask_callback</code> method.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RangeFilter" class="doc_header"><code>class</code> <code>RangeFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L54" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RangeFilter</code>(<strong><code>data</code></strong>:<code>ndarray</code>, <strong><code>name</code></strong>:<code>str</code>, <strong><code>bins</code></strong>:<code>int</code>=<em><code>20</code></em>, <strong><code>steps</code></strong>:<code>int</code>=<em><code>50</code></em>, <strong><code>with_hist</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>
<p>Abstract base class for filters.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A filter that uses a range slider for selection. Best used for continuous values.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_callback</span><span class="p">(</span><span class="n">selection</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selection</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Selection should be array&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">test_range_filter</span> <span class="o">=</span> <span class="n">RangeFilter</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;Values&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="n">test_range_filter</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="n">test_callback</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">test_range_filter</span><span class="o">.</span><span class="n">show</span><span class="p">())</span>
<span class="n">test_range_filter</span><span class="o">.</span><span class="n">update_with_mask</span><span class="p">(</span><span class="n">data</span><span class="o">&lt;</span><span class="mi">6</span><span class="p">)</span>
<span class="n">test_range_filter</span><span class="o">.</span><span class="n">update_self</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div id='4899'>





  <div class="bk-root" id="dacb1951-811e-47a5-b525-d4896dc6bb1c" data-root-id="4899"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"8ad971b5-b5d1-4807-918b-b05c73d57777":{"defs":[],"roots":{"references":[{"attributes":{},"id":"4908","type":"UnionRenderers"},{"attributes":{},"id":"4909","type":"Selection"},{"attributes":{},"id":"4902","type":"BasicTickFormatter"},{"attributes":{"bottom_units":"screen","fill_alpha":0.5,"fill_color":"lightgrey","left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"4885","type":"BoxAnnotation"},{"attributes":{"bottom":{"value":0},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"left":{"field":"left"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"right":{"field":"right"},"top":{"field":"top"}},"id":"4895","type":"Quad"},{"attributes":{},"id":"4884","type":"HelpTool"},{"attributes":{},"id":"4904","type":"AllLabels"},{"attributes":{},"id":"4867","type":"LinearScale"},{"attributes":{"end":10.1,"margin":[5,10,5,10],"min_width":582,"start":-0.1,"step":0.2,"title":"Values","value":[-0.1,10.1],"width":582},"id":"4900","type":"RangeSlider"},{"attributes":{"data_source":{"id":"4893"},"glyph":{"id":"4894"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4895"},"view":{"id":"4897"}},"id":"4896","type":"GlyphRenderer"},{"attributes":{"below":[{"id":"4871"}],"center":[{"id":"4874"},{"id":"4878"}],"height":100,"left":[{"id":"4875"}],"renderers":[{"id":"4896"}],"title":{"id":"4861"},"toolbar":{"id":"4886"},"toolbar_location":null,"x_range":{"id":"4863"},"x_scale":{"id":"4867"},"y_range":{"id":"4865"},"y_scale":{"id":"4869"}},"id":"4860","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"4865","type":"DataRange1d"},{"attributes":{"source":{"id":"4893"}},"id":"4897","type":"CDSView"},{"attributes":{},"id":"4883","type":"ResetTool"},{"attributes":{"children":[{"id":"4900"},{"id":"4860"}],"margin":[0,0,0,0],"name":"Column00269"},"id":"4899","type":"Column"},{"attributes":{},"id":"4879","type":"PanTool"},{"attributes":{"data":{"left":{"__ndarray__":"AAAAAAAAAAAAAAAAAADgPwAAAAAAAPA/AAAAAAAA+D8AAAAAAAAAQAAAAAAAAARAAAAAAAAACEAAAAAAAAAMQAAAAAAAABBAAAAAAAAAEkAAAAAAAAAUQAAAAAAAABZAAAAAAAAAGEAAAAAAAAAaQAAAAAAAABxAAAAAAAAAHkAAAAAAAAAgQAAAAAAAACFAAAAAAAAAIkAAAAAAAAAjQA==","dtype":"float64","order":"little","shape":[20]},"right":{"__ndarray__":"AAAAAAAA4D8AAAAAAADwPwAAAAAAAPg/AAAAAAAAAEAAAAAAAAAEQAAAAAAAAAhAAAAAAAAADEAAAAAAAAAQQAAAAAAAABJAAAAAAAAAFEAAAAAAAAAWQAAAAAAAABhAAAAAAAAAGkAAAAAAAAAcQAAAAAAAAB5AAAAAAAAAIEAAAAAAAAAhQAAAAAAAACJAAAAAAAAAI0AAAAAAAAAkQA==","dtype":"float64","order":"little","shape":[20]},"top":[1,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1]},"selected":{"id":"4909"},"selection_policy":{"id":"4908"}},"id":"4893","type":"ColumnDataSource"},{"attributes":{},"id":"4882","type":"SaveTool"},{"attributes":{"overlay":{"id":"4885"}},"id":"4881","type":"BoxZoomTool"},{"attributes":{},"id":"4905","type":"BasicTickFormatter"},{"attributes":{},"id":"4880","type":"WheelZoomTool"},{"attributes":{"bottom":{"value":0},"fill_color":{"value":"#1f77b4"},"left":{"field":"left"},"line_color":{"value":"#1f77b4"},"right":{"field":"right"},"top":{"field":"top"}},"id":"4894","type":"Quad"},{"attributes":{"axis":{"id":"4871"},"ticker":null},"id":"4874","type":"Grid"},{"attributes":{},"id":"4863","type":"DataRange1d"},{"attributes":{},"id":"4907","type":"AllLabels"},{"attributes":{},"id":"4872","type":"BasicTicker"},{"attributes":{"active_multi":null,"logo":null,"tools":[{"id":"4879"},{"id":"4880"},{"id":"4881"},{"id":"4882"},{"id":"4883"},{"id":"4884"}]},"id":"4886","type":"Toolbar"},{"attributes":{"client_comm_id":"d09962d15d5c4158beb0ac66b5f26233","comm_id":"47829309a612439bb3075bea5e7543df","plot_id":"4899"},"id":"4951","type":"panel.models.comm_manager.CommManager"},{"attributes":{"formatter":{"id":"4905"},"major_label_policy":{"id":"4907"},"ticker":{"id":"4876"}},"id":"4875","type":"LinearAxis"},{"attributes":{"axis":{"id":"4875"},"dimension":1,"ticker":null},"id":"4878","type":"Grid"},{"attributes":{"formatter":{"id":"4902"},"major_label_policy":{"id":"4904"},"ticker":{"id":"4872"}},"id":"4871","type":"LinearAxis"},{"attributes":{},"id":"4861","type":"Title"},{"attributes":{},"id":"4876","type":"BasicTicker"},{"attributes":{},"id":"4869","type":"LinearScale"}],"root_ids":["4899","4951"]},"title":"Bokeh Application","version":"2.3.2"}};
    var render_items = [{"docid":"8ad971b5-b5d1-4807-918b-b05c73d57777","root_ids":["4899"],"roots":{"4899":"dacb1951-811e-47a5-b525-d4896dc6bb1c"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_range_filter</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([ True,  True,  True,  True,  True,  True,  True])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CategoricalFilter" class="doc_header"><code>class</code> <code>CategoricalFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L104" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CategoricalFilter</code>(<strong><code>data</code></strong>:<code>ndarray</code>, <strong><code>name</code></strong>:<code>str</code>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>
<p>A multi select based filter for categorical data</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A filter for categorical data.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_categorical_filter</span> <span class="o">=</span> <span class="n">CategoricalFilter</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">]),</span> <span class="s2">&quot;test_filter&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">test_categorical_filter</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span>
<span class="n">test_categorical_filter</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">test_categorical_filter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='5202'>





  <div class="bk-root" id="d611aad4-7ac0-4af7-b48f-4b9e3e5d8327" data-root-id="5202"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"0087782a-495b-4c27-99a1-e4e63cd678d6":{"defs":[],"roots":{"references":[{"attributes":{"children":[{"id":"5203"}],"margin":[0,0,0,0],"name":"Column00277"},"id":"5202","type":"Column"},{"attributes":{"height":100,"margin":[5,10,5,10],"options":["a","b","c","d"],"sizing_mode":"fixed","title":"test_filter","value":["a","b","c","d"],"width":500},"id":"5203","type":"MultiSelect"},{"attributes":{"client_comm_id":"290eabd3ce7143bb9fd474ca65a36c7e","comm_id":"9a40a082b1984f46ad54f7ee9eeb1cf4","plot_id":"5202"},"id":"5204","type":"panel.models.comm_manager.CommManager"}],"root_ids":["5202","5204"]},"title":"Bokeh Application","version":"2.3.2"}};
    var render_items = [{"docid":"0087782a-495b-4c27-99a1-e4e63cd678d6","root_ids":["5202"],"roots":{"5202":"d611aad4-7ac0-4af7-b48f-4b9e3e5d8327"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TimeFilter" class="doc_header"><code>class</code> <code>TimeFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L132" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TimeFilter</code>(<strong><code>start_times</code></strong>:<code>Iterable</code>[<code>datetime</code>], <strong><code>end_times</code></strong>:<code>Iterable</code>[<code>datetime</code>], <strong><code>start_time_label</code></strong>:<code>str</code>=<em><code>'Start'</code></em>, <strong><code>end_time_label</code></strong>:<code>str</code>=<em><code>'End'</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>
<p>A filter for time data with a start and an end date</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This filter is for time information with a start and an end date. It has two range selectors one for the selection of the start time and one for the end time. The start and end time of a data point are represented by an arc plot.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_callback</span><span class="p">(</span><span class="n">selection</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selection</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Selection should be array&quot;</span><span class="p">)</span>
<span class="n">test_start_times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>
<span class="n">test_end_times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>
<span class="n">test_time_filter</span> <span class="o">=</span> <span class="n">TimeFilter</span><span class="p">(</span><span class="n">test_start_times</span><span class="p">,</span> <span class="n">test_end_times</span><span class="p">)</span>
<span class="n">test_time_filter</span><span class="o">.</span><span class="n">end_time_slider</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">test_end_times</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">test_end_times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">test_time_filter</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span>
<span class="n">test_time_filter</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="n">test_callback</span><span class="p">)</span>
<span class="n">test_time_filter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='5229'>





  <div class="bk-root" id="da403943-4519-4a13-b217-d08697fa9271" data-root-id="5229"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"12a9bfd2-97bd-4176-b152-5f295eb01584":{"defs":[],"roots":{"references":[{"attributes":{"end":1583798400000.0,"height":50,"margin":[5,10,5,10],"sizing_mode":"fixed","start":1577836800000.0,"title":"Start","value":[1577836800000.0,1583798400000.0],"width":500},"id":"5274","type":"DateRangeSlider"},{"attributes":{"end_angle":{"value":3.141592653589793},"line_color":{"value":"#1f77b4"},"radius":{"field":"radius"},"start_angle":{"value":0},"x":{"field":"x"},"y":{"value":0}},"id":"5225","type":"Arc"},{"attributes":{},"id":"5219","type":"BasicTicker"},{"attributes":{"client_comm_id":"3a4327a05da94394aa75ca895294c1f6","comm_id":"a647f5bb4f334fc5b0c36b584eec67c5","plot_id":"5229"},"id":"5342","type":"panel.models.comm_manager.CommManager"},{"attributes":{},"id":"5237","type":"AllLabels"},{"attributes":{},"id":"5251","type":"YearsTicker"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"5240","type":"AdaptiveTicker"},{"attributes":{"end":2592000000.0},"id":"5208","type":"Range1d"},{"attributes":{},"id":"5232","type":"DatetimeTickFormatter"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"5241","type":"AdaptiveTicker"},{"attributes":{},"id":"5235","type":"BasicTickFormatter"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"5243","type":"DaysTicker"},{"attributes":{"data_source":{"id":"5224"},"glyph":{"id":"5225"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"5226"},"view":{"id":"5228"}},"id":"5227","type":"GlyphRenderer"},{"attributes":{"source":{"id":"5224"}},"id":"5228","type":"CDSView"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"5247","type":"MonthsTicker"},{"attributes":{"end":1583798400000.0,"height":50,"margin":[5,10,5,10],"sizing_mode":"fixed","start":1577836800000.0,"title":"End","value":[1583539200000.0,1583884800000.0],"width":500},"id":"5275","type":"DateRangeSlider"},{"attributes":{"formatter":{"id":"5235"},"major_label_policy":{"id":"5237"},"major_label_text_font_size":"0pt","major_tick_line_color":null,"minor_tick_line_color":null,"ticker":{"id":"5219"}},"id":"5218","type":"LinearAxis"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"5242","type":"AdaptiveTicker"},{"attributes":{},"id":"5238","type":"UnionRenderers"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"5244","type":"DaysTicker"},{"attributes":{"months":[0,6]},"id":"5250","type":"MonthsTicker"},{"attributes":{"end_angle":{"value":3.141592653589793},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"radius":{"field":"radius"},"start_angle":{"value":0},"x":{"field":"x"},"y":{"value":0}},"id":"5226","type":"Arc"},{"attributes":{},"id":"5210","type":"LinearScale"},{"attributes":{},"id":"5212","type":"LinearScale"},{"attributes":{"days":[1,15]},"id":"5246","type":"DaysTicker"},{"attributes":{"below":[{"id":"5214"}],"center":[{"id":"5217"},{"id":"5221"}],"height":400,"left":[{"id":"5218"}],"renderers":[{"id":"5227"}],"title":{"id":"5230"},"toolbar":{"id":"5222"},"toolbar_location":null,"width":500,"x_range":{"id":"5206"},"x_scale":{"id":"5210"},"y_range":{"id":"5208"},"y_scale":{"id":"5212"}},"id":"5205","subtype":"Figure","type":"Plot"},{"attributes":{"data":{"radius":[2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0],"x":{"__ndarray__":"AAAAW47/dkIAAMDA4P92QgAAgCYzAHdCAABAjIUAd0IAAADy1wB3QgAAwFcqAXdCAACAvXwBd0IAAEAjzwF3QgAAAIkhAndCAADA7nMCd0I=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"5239"},"selection_policy":{"id":"5238"}},"id":"5224","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"5218"},"dimension":1,"ticker":null},"id":"5221","type":"Grid"},{"attributes":{},"id":"5230","type":"Title"},{"attributes":{"children":[{"id":"5205"},{"id":"5274"},{"id":"5275"}],"margin":[0,0,0,0],"name":"Column00284"},"id":"5229","type":"Column"},{"attributes":{},"id":"5239","type":"Selection"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"5240"},{"id":"5241"},{"id":"5242"},{"id":"5243"},{"id":"5244"},{"id":"5245"},{"id":"5246"},{"id":"5247"},{"id":"5248"},{"id":"5249"},{"id":"5250"},{"id":"5251"}]},"id":"5215","type":"DatetimeTicker"},{"attributes":{"days":[1,8,15,22]},"id":"5245","type":"DaysTicker"},{"attributes":{"end":1583798400000.0,"start":1577836800000.0},"id":"5206","type":"Range1d"},{"attributes":{"axis_label":"Date","formatter":{"id":"5232"},"major_label_policy":{"id":"5234"},"ticker":{"id":"5215"}},"id":"5214","type":"DatetimeAxis"},{"attributes":{"active_multi":null,"logo":null},"id":"5222","type":"Toolbar"},{"attributes":{"axis":{"id":"5214"},"ticker":null},"id":"5217","type":"Grid"},{"attributes":{},"id":"5234","type":"AllLabels"},{"attributes":{"months":[0,4,8]},"id":"5249","type":"MonthsTicker"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"5248","type":"MonthsTicker"}],"root_ids":["5229","5342"]},"title":"Bokeh Application","version":"2.3.2"}};
    var render_items = [{"docid":"12a9bfd2-97bd-4176-b152-5f295eb01584","root_ids":["5229"],"roots":{"5229":"da403943-4519-4a13-b217-d08697fa9271"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ScatterFilter" class="doc_header"><code>class</code> <code>ScatterFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L165" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ScatterFilter</code>(<strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>x_label</code></strong>:<code>str</code>=<em><code>''</code></em>, <strong><code>y_label</code></strong>:<code>str</code>=<em><code>''</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>
<p>A filter based on a scatter plot with a lasso selection.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='The callback needs to take three arguments (attr, old, new)' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scatter_select</span> <span class="o">=</span> <span class="n">ScatterFilter</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">scatter_select</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">scatter_select</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span>
<span class="n">scatter_select</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='1646'>





  <div class="bk-root" id="f4a36aa9-7ffa-4210-917c-745a75006895" data-root-id="1646"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"efea3bf3-81f3-4c22-b32a-60c7c1b4c09a":{"defs":[],"roots":{"references":[{"attributes":{"axis":{"id":"1620"},"dimension":1,"ticker":null},"id":"1623","type":"Grid"},{"attributes":{},"id":"1633","type":"Title"},{"attributes":{},"id":"1608","type":"DataRange1d"},{"attributes":{},"id":"1635","type":"BasicTickFormatter"},{"attributes":{"active_multi":null,"tools":[{"id":"1624"}]},"id":"1626","type":"Toolbar"},{"attributes":{"overlay":{"id":"1625"},"select_every_mousemove":false},"id":"1624","type":"LassoSelectTool"},{"attributes":{"formatter":{"id":"1635"},"major_label_policy":{"id":"1637"},"ticker":{"id":"1617"}},"id":"1616","type":"LinearAxis"},{"attributes":{"source":{"id":"1606"}},"id":"1632","type":"CDSView"},{"attributes":{},"id":"1614","type":"LinearScale"},{"attributes":{"children":[{"id":"1607"}],"margin":[0,0,0,0],"name":"Row00123"},"id":"1646","type":"Row"},{"attributes":{"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1629","type":"Scatter"},{"attributes":{"below":[{"id":"1616"}],"center":[{"id":"1619"},{"id":"1623"}],"height":500,"left":[{"id":"1620"}],"renderers":[{"id":"1631"}],"title":{"id":"1633"},"toolbar":{"id":"1626"},"width":500,"x_range":{"id":"1608"},"x_scale":{"id":"1612"},"y_range":{"id":"1610"},"y_scale":{"id":"1614"}},"id":"1607","subtype":"Figure","type":"Plot"},{"attributes":{"data":{"x":[1,2,3],"y":[1,3,1]},"selected":{"id":"1642"},"selection_policy":{"id":"1641"}},"id":"1606","type":"ColumnDataSource"},{"attributes":{},"id":"1637","type":"AllLabels"},{"attributes":{},"id":"1612","type":"LinearScale"},{"attributes":{"formatter":{"id":"1638"},"major_label_policy":{"id":"1640"},"ticker":{"id":"1621"}},"id":"1620","type":"LinearAxis"},{"attributes":{"fill_alpha":0.5,"fill_color":"lightgrey","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"syncable":false,"xs_units":"screen","ys_units":"screen"},"id":"1625","type":"PolyAnnotation"},{"attributes":{"indices":[]},"id":"1642","type":"Selection"},{"attributes":{"client_comm_id":"a165e7c1970647cdaf9433b9afb4c03c","comm_id":"d0b73d22c84f4594bb454f659c0717b0","plot_id":"1646"},"id":"1702","type":"panel.models.comm_manager.CommManager"},{"attributes":{"data_source":{"id":"1606"},"glyph":{"id":"1629"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1630"},"view":{"id":"1632"}},"id":"1631","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1630","type":"Scatter"},{"attributes":{},"id":"1640","type":"AllLabels"},{"attributes":{},"id":"1621","type":"BasicTicker"},{"attributes":{},"id":"1641","type":"UnionRenderers"},{"attributes":{"axis":{"id":"1616"},"ticker":null},"id":"1619","type":"Grid"},{"attributes":{},"id":"1610","type":"DataRange1d"},{"attributes":{},"id":"1617","type":"BasicTicker"},{"attributes":{},"id":"1638","type":"BasicTickFormatter"}],"root_ids":["1646","1702"]},"title":"Bokeh Application","version":"2.3.2"}};
    var render_items = [{"docid":"efea3bf3-81f3-4c22-b32a-60c7c1b4c09a","root_ids":["1646"],"roots":{"1646":"f4a36aa9-7ffa-4210-917c-745a75006895"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="GenericMulitScatterFilter" class="doc_header"><code>class</code> <code>GenericMulitScatterFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L198" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>GenericMulitScatterFilter</code>(<strong><code>data</code></strong>, <strong><code>columns</code></strong>:<code>Optional</code>[<code>List</code>[<code>str</code>]]=<em><code>None</code></em>, <strong><code>mode</code></strong>:<code>str</code>=<em><code>'symmetric'</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>
<p>A generic filter base on the scatter plot filter, that provides additional inputs for column selection and how the selections over the different columns should be combined.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='And will highlight all points if the "And" selction is empty' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_multi_scatter_filter</span> <span class="o">=</span> <span class="n">GenericMulitScatterFilter</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]}))</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">update_selection</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='1799'>





  <div class="bk-root" id="236791fa-3d8d-4b1e-81b0-02963b10dc47" data-root-id="1799"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"e00fadeb-aab9-48ef-aa72-a1427acac1de":{"defs":[],"roots":{"references":[{"attributes":{"data_source":{"id":"1758"},"glyph":{"id":"1783"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1784"},"view":{"id":"1786"}},"id":"1785","type":"GlyphRenderer"},{"attributes":{"children":[{"id":"1808"},{"id":"1809"},{"id":"1810"}],"margin":[0,0,0,0],"name":"Row00136"},"id":"1807","type":"Row"},{"attributes":{"height":50,"margin":[5,10,5,10],"options":["x","y"],"sizing_mode":"fixed","title":"x-Axis","value":"x","width":250},"id":"1801","type":"Select"},{"attributes":{"indices":[]},"id":"1759","type":"Selection"},{"attributes":{},"id":"1770","type":"BasicTicker"},{"attributes":{},"id":"1791","type":"AllLabels"},{"attributes":{},"id":"1761","type":"DataRange1d"},{"attributes":{},"id":"1794","type":"AllLabels"},{"attributes":{"axis":{"id":"1769"},"ticker":null},"id":"1772","type":"Grid"},{"attributes":{"fill_alpha":0.5,"fill_color":"lightgrey","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"syncable":false,"xs_units":"screen","ys_units":"screen"},"id":"1778","type":"PolyAnnotation"},{"attributes":{"children":[{"id":"1800"},{"id":"1803"},{"id":"1807"},{"id":"1760"}],"margin":[0,0,0,0],"name":"Column00143"},"id":"1799","type":"Column"},{"attributes":{"children":[{"id":"1804"},{"id":"1805"},{"id":"1806"}],"margin":[0,0,0,0],"name":"Row00140"},"id":"1803","type":"Row"},{"attributes":{},"id":"1787","type":"Title"},{"attributes":{"source":{"id":"1758"}},"id":"1786","type":"CDSView"},{"attributes":{"below":[{"id":"1769"}],"center":[{"id":"1772"},{"id":"1776"}],"height":450,"left":[{"id":"1773"}],"renderers":[{"id":"1785"}],"title":{"id":"1787"},"toolbar":{"id":"1779"},"width":500,"x_range":{"id":"1761"},"x_scale":{"id":"1765"},"y_range":{"id":"1763"},"y_scale":{"id":"1767"}},"id":"1760","subtype":"Figure","type":"Plot"},{"attributes":{"height":50,"margin":[5,10,5,10],"options":["x","y"],"sizing_mode":"fixed","title":"y-Axis","value":"y","width":250},"id":"1802","type":"Select"},{"attributes":{},"id":"1789","type":"BasicTickFormatter"},{"attributes":{"children":[{"id":"1801"},{"id":"1802"}],"margin":[0,0,0,0],"name":"Row00137"},"id":"1800","type":"Row"},{"attributes":{},"id":"1763","type":"DataRange1d"},{"attributes":{"axis_label":"y","formatter":{"id":"1792"},"major_label_policy":{"id":"1794"},"ticker":{"id":"1774"}},"id":"1773","type":"LinearAxis"},{"attributes":{},"id":"1795","type":"UnionRenderers"},{"attributes":{"active":0,"inline":true,"labels":["None","Or","And"],"margin":[5,10,5,10],"min_width":166,"width":166},"id":"1805","type":"RadioGroup"},{"attributes":{},"id":"1792","type":"BasicTickFormatter"},{"attributes":{"overlay":{"id":"1778"},"select_every_mousemove":false},"id":"1777","type":"LassoSelectTool"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00138","text":"&lt;p&gt;Combine selections with: &lt;/p&gt;"},"id":"1804","type":"panel.models.markup.HTML"},{"attributes":{"client_comm_id":"846eafebedb84d0d80b8003690aa40f3","comm_id":"e4ced968bfbc4fe3bcb205ec7965f38a","plot_id":"1799"},"id":"1866","type":"panel.models.comm_manager.CommManager"},{"attributes":{"data":{"colors":["gray","firebrick","firebrick","firebrick","gray","gray","gray","gray"],"index":[0,1,2,3,4,5,6,7],"x":[1,2,3,4,5,6,7,8],"y":[1,1,3,5,5,5,2,4]},"selected":{"id":"1759"},"selection_policy":{"id":"1795"}},"id":"1758","type":"ColumnDataSource"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00132","text":"&lt;p style=&#x27;color:#FF00FF&#x27;;&gt;Selected in another&lt;/p&gt;"},"id":"1809","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00134","text":"&lt;p style=&#x27;color:#808080&#x27;;&gt;Not selected&lt;/p&gt;"},"id":"1810","type":"panel.models.markup.HTML"},{"attributes":{"active":[0],"labels":["Ignore empty selections"],"margin":[5,10,5,10]},"id":"1806","type":"CheckboxGroup"},{"attributes":{},"id":"1765","type":"LinearScale"},{"attributes":{"fill_color":{"field":"colors"},"line_color":{"value":null},"radius":{"value":0.11},"x":{"field":"x"},"y":{"field":"y"}},"id":"1783","type":"Circle"},{"attributes":{},"id":"1767","type":"LinearScale"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"colors"},"line_alpha":{"value":0.1},"line_color":{"value":null},"radius":{"value":0.11},"x":{"field":"x"},"y":{"field":"y"}},"id":"1784","type":"Circle"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00130","text":"&lt;p style=&#x27;color:#B22222&#x27;;&gt;Selected in current&lt;/p&gt;"},"id":"1808","type":"panel.models.markup.HTML"},{"attributes":{"active_multi":null,"tools":[{"id":"1777"}]},"id":"1779","type":"Toolbar"},{"attributes":{},"id":"1774","type":"BasicTicker"},{"attributes":{"axis":{"id":"1773"},"dimension":1,"ticker":null},"id":"1776","type":"Grid"},{"attributes":{"axis_label":"x","formatter":{"id":"1789"},"major_label_policy":{"id":"1791"},"ticker":{"id":"1770"}},"id":"1769","type":"LinearAxis"}],"root_ids":["1799","1866"]},"title":"Bokeh Application","version":"2.3.2"}};
    var render_items = [{"docid":"e00fadeb-aab9-48ef-aa72-a1427acac1de","root_ids":["1799"],"roots":{"1799":"236791fa-3d8d-4b1e-81b0-02963b10dc47"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_multi_scatter_filter</span> <span class="o">=</span> <span class="n">GenericMulitScatterFilter</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]}))</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">combine_selections</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;Or&quot;</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;symmetric&quot;</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">update_selection</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='2000'>





  <div class="bk-root" id="ead0fb1c-67b1-426a-9558-86051e876c25" data-root-id="2000"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"de68ce09-9d65-45e5-b07d-647b9cd61504":{"defs":[],"roots":{"references":[{"attributes":{"fill_alpha":0.5,"fill_color":"lightgrey","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"syncable":false,"xs_units":"screen","ys_units":"screen"},"id":"1980","type":"PolyAnnotation"},{"attributes":{"axis":{"id":"1975"},"dimension":1,"ticker":null},"id":"1978","type":"Grid"},{"attributes":{"axis_label":"y","formatter":{"id":"1994"},"major_label_policy":{"id":"1996"},"ticker":{"id":"1976"}},"id":"1975","type":"LinearAxis"},{"attributes":{},"id":"1976","type":"BasicTicker"},{"attributes":{"active_multi":null,"tools":[{"id":"1979"}]},"id":"1981","type":"Toolbar"},{"attributes":{"below":[{"id":"1971"}],"center":[{"id":"1974"},{"id":"1978"}],"height":450,"left":[{"id":"1975"}],"renderers":[{"id":"1987"}],"title":{"id":"1989"},"toolbar":{"id":"1981"},"width":500,"x_range":{"id":"1963"},"x_scale":{"id":"1967"},"y_range":{"id":"1965"},"y_scale":{"id":"1969"}},"id":"1962","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1967","type":"LinearScale"},{"attributes":{},"id":"1989","type":"Title"},{"attributes":{},"id":"1972","type":"BasicTicker"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00154","text":"&lt;p style=&#x27;color:#808080&#x27;;&gt;Not selected&lt;/p&gt;"},"id":"2011","type":"panel.models.markup.HTML"},{"attributes":{"overlay":{"id":"1980"},"select_every_mousemove":false},"id":"1979","type":"LassoSelectTool"},{"attributes":{},"id":"1965","type":"DataRange1d"},{"attributes":{"data":{"colors":["gray","firebrick","firebrick","firebrick","gray","gray","gray","gray"],"index":[0,1,2,3,4,5,6,7],"x":[1,2,3,4,5,6,7,8],"y":[1,1,3,5,5,5,2,4]},"selected":{"id":"1923"},"selection_policy":{"id":"1959"}},"id":"1922","type":"ColumnDataSource"},{"attributes":{"axis_label":"x","formatter":{"id":"1991"},"major_label_policy":{"id":"1993"},"ticker":{"id":"1972"}},"id":"1971","type":"LinearAxis"},{"attributes":{},"id":"1969","type":"LinearScale"},{"attributes":{"source":{"id":"1922"}},"id":"1988","type":"CDSView"},{"attributes":{},"id":"1994","type":"BasicTickFormatter"},{"attributes":{"axis":{"id":"1971"},"ticker":null},"id":"1974","type":"Grid"},{"attributes":{"active":1,"inline":true,"labels":["None","Or","And"],"margin":[5,10,5,10],"min_width":166,"width":166},"id":"2006","type":"RadioGroup"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"colors"},"line_alpha":{"value":0.1},"line_color":{"value":null},"radius":{"value":0.11},"x":{"field":"x"},"y":{"field":"y"}},"id":"1986","type":"Circle"},{"attributes":{},"id":"1993","type":"AllLabels"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00152","text":"&lt;p style=&#x27;color:#FF00FF&#x27;;&gt;Selected in another&lt;/p&gt;"},"id":"2010","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1996","type":"AllLabels"},{"attributes":{"children":[{"id":"2001"},{"id":"2004"},{"id":"2008"},{"id":"1962"}],"margin":[0,0,0,0],"name":"Column00163"},"id":"2000","type":"Column"},{"attributes":{"children":[{"id":"2005"},{"id":"2006"},{"id":"2007"}],"margin":[0,0,0,0],"name":"Row00160"},"id":"2004","type":"Row"},{"attributes":{"client_comm_id":"4b346bcc12be4ce6970784d124a69fe0","comm_id":"273179f7ad5b45e99f12ff6718186f1e","plot_id":"2000"},"id":"2067","type":"panel.models.comm_manager.CommManager"},{"attributes":{"children":[{"id":"2002"},{"id":"2003"}],"margin":[0,0,0,0],"name":"Row00157"},"id":"2001","type":"Row"},{"attributes":{"active":[0],"labels":["Ignore empty selections"],"margin":[5,10,5,10]},"id":"2007","type":"CheckboxGroup"},{"attributes":{"height":50,"margin":[5,10,5,10],"options":["x","y"],"sizing_mode":"fixed","title":"y-Axis","value":"y","width":250},"id":"2003","type":"Select"},{"attributes":{},"id":"1991","type":"BasicTickFormatter"},{"attributes":{"height":50,"margin":[5,10,5,10],"options":["x","y"],"sizing_mode":"fixed","title":"x-Axis","value":"x","width":250},"id":"2002","type":"Select"},{"attributes":{"data_source":{"id":"1922"},"glyph":{"id":"1985"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1986"},"view":{"id":"1988"}},"id":"1987","type":"GlyphRenderer"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00158","text":"&lt;p&gt;Combine selections with: &lt;/p&gt;"},"id":"2005","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00150","text":"&lt;p style=&#x27;color:#B22222&#x27;;&gt;Selected in current&lt;/p&gt;"},"id":"2009","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1963","type":"DataRange1d"},{"attributes":{"indices":[]},"id":"1923","type":"Selection"},{"attributes":{"children":[{"id":"2009"},{"id":"2010"},{"id":"2011"}],"margin":[0,0,0,0],"name":"Row00156"},"id":"2008","type":"Row"},{"attributes":{},"id":"1959","type":"UnionRenderers"},{"attributes":{"fill_color":{"field":"colors"},"line_color":{"value":null},"radius":{"value":0.11},"x":{"field":"x"},"y":{"field":"y"}},"id":"1985","type":"Circle"}],"root_ids":["2000","2067"]},"title":"Bokeh Application","version":"2.3.2"}};
    var render_items = [{"docid":"de68ce09-9d65-45e5-b07d-647b9cd61504","root_ids":["2000"],"roots":{"2000":"ead0fb1c-67b1-426a-9558-86051e876c25"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_multi_scatter_filter</span> <span class="o">=</span> <span class="n">GenericMulitScatterFilter</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]}))</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">combine_selections</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;And&quot;</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='2201'>





  <div class="bk-root" id="ecbc89c9-dcaf-4f96-811f-ad0452205354" data-root-id="2201"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"7c95f8fe-89dc-4435-aeb6-f27164cdd8b7":{"defs":[],"roots":{"references":[{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00180","text":"&lt;p&gt;Combine selections with: &lt;/p&gt;"},"id":"2206","type":"panel.models.markup.HTML"},{"attributes":{},"id":"2173","type":"BasicTicker"},{"attributes":{"children":[{"id":"2210"},{"id":"2211"},{"id":"2212"}],"margin":[0,0,0,0],"name":"Row00178"},"id":"2209","type":"Row"},{"attributes":{"active":[0],"labels":["Ignore empty selections"],"margin":[5,10,5,10]},"id":"2208","type":"CheckboxGroup"},{"attributes":{"height":50,"margin":[5,10,5,10],"options":["x","y"],"sizing_mode":"fixed","title":"y-Axis","value":"y","width":250},"id":"2204","type":"Select"},{"attributes":{"height":50,"margin":[5,10,5,10],"options":["x","y"],"sizing_mode":"fixed","title":"x-Axis","value":"x","width":250},"id":"2203","type":"Select"},{"attributes":{"axis":{"id":"2172"},"ticker":null},"id":"2175","type":"Grid"},{"attributes":{"children":[{"id":"2206"},{"id":"2207"},{"id":"2208"}],"margin":[0,0,0,0],"name":"Row00182"},"id":"2205","type":"Row"},{"attributes":{},"id":"2197","type":"AllLabels"},{"attributes":{"children":[{"id":"2203"},{"id":"2204"}],"margin":[0,0,0,0],"name":"Row00179"},"id":"2202","type":"Row"},{"attributes":{"fill_alpha":0.5,"fill_color":"lightgrey","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"syncable":false,"xs_units":"screen","ys_units":"screen"},"id":"2181","type":"PolyAnnotation"},{"attributes":{"children":[{"id":"2202"},{"id":"2205"},{"id":"2209"},{"id":"2163"}],"margin":[0,0,0,0],"name":"Column00185"},"id":"2201","type":"Column"},{"attributes":{},"id":"2168","type":"LinearScale"},{"attributes":{"overlay":{"id":"2181"},"select_every_mousemove":false},"id":"2180","type":"LassoSelectTool"},{"attributes":{},"id":"2170","type":"LinearScale"},{"attributes":{},"id":"2194","type":"AllLabels"},{"attributes":{},"id":"2177","type":"BasicTicker"},{"attributes":{"axis_label":"y","formatter":{"id":"2195"},"major_label_policy":{"id":"2197"},"ticker":{"id":"2177"}},"id":"2176","type":"LinearAxis"},{"attributes":{},"id":"2164","type":"DataRange1d"},{"attributes":{"active_multi":null,"tools":[{"id":"2180"}]},"id":"2182","type":"Toolbar"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00174","text":"&lt;p style=&#x27;color:#FF00FF&#x27;;&gt;Selected in another&lt;/p&gt;"},"id":"2211","type":"panel.models.markup.HTML"},{"attributes":{},"id":"2166","type":"DataRange1d"},{"attributes":{"axis":{"id":"2176"},"dimension":1,"ticker":null},"id":"2179","type":"Grid"},{"attributes":{"axis_label":"x","formatter":{"id":"2192"},"major_label_policy":{"id":"2194"},"ticker":{"id":"2173"}},"id":"2172","type":"LinearAxis"},{"attributes":{"indices":[]},"id":"2124","type":"Selection"},{"attributes":{"below":[{"id":"2172"}],"center":[{"id":"2175"},{"id":"2179"}],"height":450,"left":[{"id":"2176"}],"renderers":[{"id":"2188"}],"title":{"id":"2190"},"toolbar":{"id":"2182"},"width":500,"x_range":{"id":"2164"},"x_scale":{"id":"2168"},"y_range":{"id":"2166"},"y_scale":{"id":"2170"}},"id":"2163","subtype":"Figure","type":"Plot"},{"attributes":{"active":2,"inline":true,"labels":["None","Or","And"],"margin":[5,10,5,10],"min_width":166,"width":166},"id":"2207","type":"RadioGroup"},{"attributes":{},"id":"2192","type":"BasicTickFormatter"},{"attributes":{"fill_color":{"field":"colors"},"line_color":{"value":null},"radius":{"value":0.11},"x":{"field":"x"},"y":{"field":"y"}},"id":"2186","type":"Circle"},{"attributes":{},"id":"2195","type":"BasicTickFormatter"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00172","text":"&lt;p style=&#x27;color:#B22222&#x27;;&gt;Selected in current&lt;/p&gt;"},"id":"2210","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00176","text":"&lt;p style=&#x27;color:#808080&#x27;;&gt;Not selected&lt;/p&gt;"},"id":"2212","type":"panel.models.markup.HTML"},{"attributes":{},"id":"2160","type":"UnionRenderers"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"colors"},"line_alpha":{"value":0.1},"line_color":{"value":null},"radius":{"value":0.11},"x":{"field":"x"},"y":{"field":"y"}},"id":"2187","type":"Circle"},{"attributes":{"client_comm_id":"d8c270928ac4449884a20da3db7f1622","comm_id":"c5b84554c49646f697c19c98fadd54b1","plot_id":"2201"},"id":"2268","type":"panel.models.comm_manager.CommManager"},{"attributes":{"source":{"id":"2123"}},"id":"2189","type":"CDSView"},{"attributes":{"data_source":{"id":"2123"},"glyph":{"id":"2186"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2187"},"view":{"id":"2189"}},"id":"2188","type":"GlyphRenderer"},{"attributes":{"data":{"colors":["gray","gray","gray","gray","gray","gray","gray","gray"],"index":[0,1,2,3,4,5,6,7],"x":[1,2,3,4,5,6,7,8],"y":[1,1,3,5,5,5,2,4]},"selected":{"id":"2124"},"selection_policy":{"id":"2160"}},"id":"2123","type":"ColumnDataSource"},{"attributes":{},"id":"2190","type":"Title"}],"root_ids":["2201","2268"]},"title":"Bokeh Application","version":"2.3.2"}};
    var render_items = [{"docid":"7c95f8fe-89dc-4435-aeb6-f27164cdd8b7","root_ids":["2201"],"roots":{"2201":"ecbc89c9-dcaf-4f96-811f-ad0452205354"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

